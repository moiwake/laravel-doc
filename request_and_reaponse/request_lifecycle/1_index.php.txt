
ãã‚Œã‹ã‚‰ã€bootstrap/app.phpã‚¹ã‚¯ãƒªãƒ—ãƒˆã‹ã‚‰ã€Laravelã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å–å¾—ã™ã‚‹ã€‚

Laravelè‡ªèº«ã®æœ€åˆã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã€‚



ğŸŸ¡index.php

PHPãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
...ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã™ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€ã™ã¹ã¦public/index.phpãƒ•ã‚¡ã‚¤ãƒ«ãŒå…¥ã‚Šå£ã«ãªã‚‹ã€‚

ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒindex.phpã«æ¸¡ã•ã‚Œã‚‹
...Webã‚µãƒ¼ãƒ(Apache/Nginx)ã®è¨­å®šã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¸æ¸¡ã—ã¦ã„ã‚‹ã€‚


ä»¥ä¸‹ã®å‡¦ç†ãŒã€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã‚‹ãŸã³ã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚
â‡’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ã‚¢éƒ¨åˆ†ãŒå†åº¦å®Ÿè¡Œã•ã‚Œã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã«æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã§ã€å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ã¦å‡¦ç†ã•ã‚Œã‚‹ã€‚
â‡’Laravelã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã«å¿…è¦ãªåˆæœŸåŒ–ã‚„è¨­å®šã‚’è¡Œã„ã€é©åˆ‡ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚


ğŸ”µLARAVEL_STARTå®šç¾©
define('LARAVEL_START', microtime(true));
ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®èµ·å‹•æ™‚åˆ»ã‚’è¨˜éŒ²ã™ã‚‹ãŸã‚ã®å®šæ•°ã‚’å®šç¾©

ğŸ”µAuto Loaderç™»éŒ²
require __DIR__.'/../vendor/autoload.php';
Composerã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸã‚ªãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’ç™»éŒ²
â‡’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¯ãƒ©ã‚¹ã‚’æ‰‹å‹•ã§ãƒ­ãƒ¼ãƒ‰ã™ã‚‹å¿…è¦ãŒãªããªã‚‹ã€‚

ğŸ”µFrameworkã®èµ·å‹•
$app = require_once __DIR__.'/../bootstrap/app.php';
Laravelã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã—ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨å¯èƒ½ãªçŠ¶æ…‹ã«ã™ã‚‹ã€‚
bootstrap/app.php ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºæœ¬çš„ãªè¨­å®šã¨ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ç™»éŒ²ã‚’è¡Œã†ï¼ˆãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—ãƒ•ã‚§ãƒ¼ã‚ºï¼‰ã€‚

ğŸ”µApplicationã®å®Ÿè¡Œ
$kernel = $app->make(Illuminate\Contracts\Http\Kernel::class);

$response = $kernel->handle(
    $request = Illuminate\Http\Request::capture()
);
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«ã€HTTPã‚«ãƒ¼ãƒãƒ«ã‚’ä½œæˆã—ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã—ã¦å¯¾å¿œã™ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã€‚
Illuminate\Contracts\Http\Kernelã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹å½¹å‰²ã‚’æœãŸã™ã€‚

ğŸ”µResponse ã®é€ä¿¡ã¨çµ‚äº†å‡¦ç†
$response->send();
Kernelã§ç”Ÿæˆã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ãƒ–ãƒ©ã‚¦ã‚¶ã«é€ä¿¡ã™ã‚‹ã€‚

$kernel->terminate($request, $response);
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çµ‚äº†å‡¦ç†ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã®çµ‚äº†ãªã©ï¼‰ã‚’è¡Œã†ã€‚
